# PDF 최종 조정 - 세금계산서 담당자 및 여백 개선

## 변경 일시
2025-11-04

## 변경 사항

### 1. 세금계산서 담당자 정보 수정

**문제:**
- PDF에 사업장 담당자 정보가 세금계산서 담당자로 잘못 표시됨
- 미리보기 컴포넌트에는 정확한 정보(김경수)가 하드코딩되어 있음

**해결:**
- 미리보기 참조하여 세금계산서 담당자 정보 하드코딩
- 담당자: 김경수
- 연락처: 010-2758-4273
- 이메일: gong4900@naver.com

**변경 위치:** `lib/document-generators/pdf-generator-ecosense.ts` line 166

```typescript
// Before
<td>김경수 | 010-2758-4273 | gong4900@naver.com</td>

// After (하드코딩)
<td>김경수 | 010-2758-4273 | gong4900@naver.com</td>
```

### 2. PDF 여백 및 패딩 조정

**문제:**
- 이전 최적화로 여백이 너무 작아져서 답답함
- 가독성 저하 및 인쇄 시 여백 부족

**해결:**

#### PDF 문서 마진
- **8mm → 10mm** (25% 증가)
- A4 여백이 적절하게 확보됨

#### 컨테이너 패딩
- **15px → 20px** (33% 증가)
- 내부 콘텐츠와 경계선 사이 공간 확보

#### 라인 높이
- **1.3 → 1.35** (4% 증가)
- 텍스트 가독성 개선

#### 테이블 셀 패딩
- **5px → 7px** (40% 증가)
- 테이블 내용이 더 여유롭게 표시됨

#### 섹션 간격
- **8-10px → 10-12px** (20-25% 증가)
- 섹션 구분이 명확해짐

#### 제목 여백
- 제목 하단: **10px → 12px**
- 제목 패딩: **8px → 10px**
- 제목 h1 margin: **5px → 6px**

#### 헤더 여백
- 섹션 헤더 하단: **8px → 9px**
- 헤더 좌측 패딩: **6px → 7px**

#### 하단 정보
- 상단 마진: **15px → 18px**
- 상단 패딩: **10px → 12px**
- 텍스트 간격: **2px → 3px**
- 폰트 크기: **9px → 10px**

## 변경 전후 비교

### 여백 및 패딩
| 항목 | 이전 값 | 최종 값 | 변화 |
|-----|--------|--------|------|
| PDF 마진 | 8mm | 10mm | +25% |
| 컨테이너 패딩 | 15px | 20px | +33% |
| 라인 높이 | 1.3 | 1.35 | +4% |
| 테이블 셀 패딩 | 5px | 7px | +40% |
| 섹션 간격 | 8-10px | 10-12px | +20-25% |

### 타이포그래피
| 항목 | 값 | 비고 |
|-----|-----|-----|
| 본문 폰트 | 11px | 유지 |
| 제목(h1) | 20px | 유지 |
| 섹션 헤더(h2) | 14px | 유지 |
| 하단 정보 | 10px | 9px → 10px |

## 예상 효과

### 긍정적 효과
1. **가독성 개선**: 적절한 여백으로 텍스트 읽기 편함
2. **인쇄 품질**: 10mm 마진으로 인쇄 시 잘림 방지
3. **시각적 균형**: 섹션 간 구분이 명확하고 답답하지 않음
4. **전문성**: 적절한 여백으로 문서가 더 전문적으로 보임

### 주의사항
- 여백 증가로 콘텐츠가 1페이지를 약간 초과할 수 있음
- 대부분의 경우 1페이지 내에 수용 가능
- 항목이 매우 많은 경우(8개 이상) 2페이지로 넘어갈 수 있음

## 최종 설정값

```typescript
// PDF 설정
margin: 10mm
pageWidth: 210mm - 20mm = 190mm
pageHeight: 297mm - 20mm = 277mm

// 컨테이너
padding: 20px
line-height: 1.35
font-size: 11px

// 테이블
cell padding: 7px
header padding: 7px

// 섹션
margin-bottom: 10-12px
header margin-bottom: 9px
header padding-left: 7px

// 제목
title margin-bottom: 12px
title padding-bottom: 10px
title h1 margin-bottom: 6px

// 하단
footer margin-top: 18px
footer padding-top: 12px
footer text margin: 3px
footer font-size: 10px
```

## 담당자 정보 구조

```
담당자 정보 (헤더)
├─ 블루온 담당자: {data.manager_name} | {data.manager_contact} | {data.manager_email}
└─ 세금계산서 담당자: 김경수 | 010-2758-4273 | gong4900@naver.com (하드코딩)
```

## 참조
- 미리보기 컴포넌트: `components/EcosensePurchaseOrderForm.tsx` lines 339-351
- PDF 생성기: `lib/document-generators/pdf-generator-ecosense.ts`
- 이전 최적화 문서: `claudedocs/pdf-layout-optimization.md`

## 테스트 권장사항

1. **다양한 항목 수로 테스트**
   - 최소 항목(2-3개): 1페이지 내 여유 있게 표시되는지
   - 중간 항목(4-6개): 1페이지 내 적절하게 표시되는지
   - 최대 항목(7-8개): 1-2페이지로 적절하게 분할되는지

2. **인쇄 테스트**
   - A4 용지에 실제 인쇄하여 여백 확인
   - 잘림 없이 모든 내용이 표시되는지 확인

3. **가독성 테스트**
   - 텍스트가 읽기 편한지
   - 섹션 구분이 명확한지
   - 테이블 내용이 잘 보이는지

4. **세금계산서 담당자 확인**
   - 모든 PDF에서 "김경수 | 010-2758-4273 | gong4900@naver.com" 표시 확인
   - 블루온 담당자와 명확히 구분되는지 확인
